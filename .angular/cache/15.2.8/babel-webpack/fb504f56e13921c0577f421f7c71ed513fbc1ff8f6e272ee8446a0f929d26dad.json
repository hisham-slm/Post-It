{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/uploadpost.service\";\nimport * as i3 from \"src/app/services/user.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../user-nav/user-nav.component\";\nfunction UserHomeComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4);\n    i0.ɵɵelement(2, \"img\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 6)(4, \"table\")(5, \"tr\")(6, \"td\")(7, \"a\", 7);\n    i0.ɵɵlistener(\"click\", function UserHomeComponent_div_3_Template_a_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const post_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.sendUsername(post_r1.username));\n    });\n    i0.ɵɵelement(8, \"img\", 8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"td\")(10, \"a\")(11, \"h3\", 9);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(13, \"tr\")(14, \"td\")(15, \"p\", 10);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(17, \"div\", 11)(18, \"h1\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 12)(21, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function UserHomeComponent_div_3_Template_button_click_21_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const post_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.tapLike(post_r1.id));\n    });\n    i0.ɵɵtext(22, \"Like\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"H5\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const post_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://127.0.0.1:8000\", post_r1.media, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/user/\", post_r1.username, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://127.0.0.1:8000\", post_r1.profilePicture, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(post_r1.username);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(post_r1.uploaded_date);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(post_r1.caption);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"likeButton_\", post_r1.id, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Liked By \", post_r1.post_likes, \" Poeple\");\n  }\n}\nexport class UserHomeComponent {\n  encodeURIComponent(arg0) {\n    throw new Error('Method not implemented.');\n  }\n  constructor(router, uploadService, userService) {\n    this.router = router;\n    this.uploadService = uploadService;\n    this.userService = userService;\n    this.posts = [];\n    this.postCard = document.getElementById('post-card');\n    this.userId = localStorage.getItem('userId');\n  }\n  ngOnInit() {\n    this.getPosts();\n  }\n  getPosts() {\n    this.uploadService.viewPost().subscribe(res => {\n      this.posts = res.data.reverse();\n    });\n  }\n  tapLike(postId) {\n    const post = this.posts.find(post => post.id === postId);\n    if (post && post.post_likes !== undefined) {\n      let likes = post.post_likes;\n      this.uploadService.likePost(this.userId, postId).subscribe(res => {\n        if (res.statusCode === 204) {\n          post.post_likes = likes + 1;\n          let button = document.getElementById(`likeButton_${postId}`);\n          button.innerHTML = \"Dislike\";\n        } else {\n          post.post_likes = likes - 1;\n          let button = document.getElementById(`likeButton_${postId}`);\n          button.innerHTML = \"Like\";\n        }\n      });\n    }\n  }\n  sendUsername(username) {\n    this.userService.sendUsernameToProfile(username);\n    console.log('the data is', username);\n  }\n}\nUserHomeComponent.ɵfac = function UserHomeComponent_Factory(t) {\n  return new (t || UserHomeComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UploadpostService), i0.ɵɵdirectiveInject(i3.UserService));\n};\nUserHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UserHomeComponent,\n  selectors: [[\"app-user-home\"]],\n  decls: 4,\n  vars: 1,\n  consts: [[\"rel\", \"stylesheet\", \"href\", \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\"], [1, \"page\"], [\"class\", \"post-card\", \"id\", \"post-card\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"post-card\", 1, \"post-card\"], [1, \"image\"], [3, \"src\"], [1, \"profile\"], [3, \"routerLink\", \"click\"], [\"id\", \"profile_picture\", \"alt\", \"Posted Image\", 3, \"src\"], [\"id\", \"profile-name\"], [\"id\", \"post-date\"], [1, \"postHeading\"], [1, \"reactions\"], [1, \"like-button\", 3, \"id\", \"click\"]],\n  template: function UserHomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-user-nav\")(1, \"link\", 0);\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtemplate(3, UserHomeComponent_div_3_Template, 25, 8, \"div\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.posts);\n    }\n  },\n  dependencies: [i4.NgForOf, i1.RouterLink, i5.UserNavComponent],\n  styles: [\"@import url(https://fonts.googleapis.com/css2?family=Merriweather+Sans&family=Nunito:wght@500&family=Poppins:wght@300;500&display=swap)[_ngcontent-%COMP%];@import url(https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Nunito:wght@200&display=swap);@import url(https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Nunito:wght@200&family=Roboto:wght@300&display=swap);@import url(https://fonts.googleapis.com/css2?family=Work+Sans:wght@300&display=swap);*[_ngcontent-%COMP%] {\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.page[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: center;\\r\\n    gap: 20px;\\r\\n    padding-top: 30px;\\r\\n}\\r\\n\\r\\n.post-card[_ngcontent-%COMP%] {\\r\\n    width: 60%;\\r\\n    border: 1px;\\r\\n    border-radius: 10px;\\r\\n    background-color: rgb(233, 233, 233);\\r\\n    border: 1px solid rgb(212, 210, 210);\\r\\n}\\r\\n\\r\\n.post-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    object-fit: cover;\\r\\n    border-top-right-radius: 10px;\\r\\n    border-top-left-radius: 10px;\\r\\n}\\r\\n\\r\\n.profile[_ngcontent-%COMP%] {\\r\\n    padding-right: 10px;\\r\\n    width: 25%;\\r\\n    display: grid;\\r\\n    grid-template-columns: auto auto;\\r\\n    gap: 2px;\\r\\n}\\r\\n\\r\\n#profile_picture[_ngcontent-%COMP%] {\\r\\n    \\r\\n    border-radius: 50%;\\r\\n    height: 70px;\\r\\n    width: 70px;\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n#profile-name[_ngcontent-%COMP%] {\\r\\n    text-align: left;\\r\\n    font-weight: 200;\\r\\n    font-family: 'Roboto', sans-serif;\\r\\n    font-weight: 600;\\r\\n    color: black;\\r\\n}\\r\\n\\r\\n#post-date[_ngcontent-%COMP%] {\\r\\n    font-family: 'Nunito', sans-serif;\\r\\n    font-size: small;\\r\\n    padding-left: 10px;\\r\\n    font-weight: 400;\\r\\n}\\r\\n\\r\\n.postHeading[_ngcontent-%COMP%] {\\r\\n    font-family: 'Poppins', sans-serif;\\r\\n    padding: 5px;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.reactions[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    padding: 10px;\\r\\n    gap: 15px;\\r\\n    font-family: 'Work Sans', sans-serif;\\r\\n\\r\\n\\r\\n}\\r\\n\\r\\n.heart[_ngcontent-%COMP%] {\\r\\n    width: 100px;\\r\\n    height: 100px;\\r\\n    background: url(\\\"https://cssanimation.rocks/images/posts/steps/heart.png\\\") no-repeat;\\r\\n    background-position: 0 0;\\r\\n    cursor: pointer;\\r\\n    transition: background-position 1s steps(28);\\r\\n    transition-duration: 0s;\\r\\n    \\r\\n    &.is-active {\\r\\n      transition-duration: 1s;\\r\\n      background-position: -2800px 0;\\r\\n    }\\r\\n  }\\r\\n  \\r\\n  \\r\\n  .placement[_ngcontent-%COMP%] {\\r\\n    position: fixed;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    transform: translate(-50%, -50%);\\r\\n  }\\r\\n  .like-button[_ngcontent-%COMP%] {\\r\\n    background-color: #007bff;\\r\\n    color: white;\\r\\n    border: none;\\r\\n    padding: 10px 20px;\\r\\n    cursor: pointer;\\r\\n    \\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci9jb21wb25lbnRzL3VzZXItaG9tZS91c2VyLWhvbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPQTtJQUNJLFNBQVM7SUFDVCxVQUFVO0lBQ1Ysc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLGVBQWU7SUFDZix1QkFBdUI7SUFDdkIsU0FBUztJQUNULGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLFVBQVU7SUFDVixXQUFXO0lBQ1gsbUJBQW1CO0lBQ25CLG9DQUFvQztJQUNwQyxvQ0FBb0M7QUFDeEM7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLDZCQUE2QjtJQUM3Qiw0QkFBNEI7QUFDaEM7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsVUFBVTtJQUNWLGFBQWE7SUFDYixnQ0FBZ0M7SUFDaEMsUUFBUTtBQUNaOztBQUVBO0lBQ0ksd0JBQXdCO0lBQ3hCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osV0FBVztJQUNYLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsZ0JBQWdCO0lBQ2hCLGlDQUFpQztJQUNqQyxnQkFBZ0I7SUFDaEIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGlDQUFpQztJQUNqQyxnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGtDQUFrQztJQUNsQyxZQUFZO0lBQ1osYUFBYTtJQUNiLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixhQUFhO0lBQ2IsU0FBUztJQUNULG9DQUFvQzs7O0FBR3hDOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGFBQWE7SUFDYixvRkFBb0Y7SUFDcEYsd0JBQXdCO0lBQ3hCLGVBQWU7SUFDZiw0Q0FBNEM7SUFDNUMsdUJBQXVCOztJQUV2QjtNQUNFLHVCQUF1QjtNQUN2Qiw4QkFBOEI7SUFDaEM7RUFDRjs7O0VBR0E7SUFDRSxlQUFlO0lBQ2YsUUFBUTtJQUNSLFNBQVM7SUFDVCxnQ0FBZ0M7RUFDbEM7RUFDQTtJQUNFLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsbUNBQW1DO0VBQ3JDIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9TWVycml3ZWF0aGVyK1NhbnMmZmFtaWx5PU51bml0bzp3Z2h0QDUwMCZmYW1pbHk9UG9wcGluczp3Z2h0QDMwMDs1MDAmZGlzcGxheT1zd2FwJyk7XHJcbkBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUJlYmFzK05ldWUmZmFtaWx5PU51bml0bzp3Z2h0QDIwMCZkaXNwbGF5PXN3YXAnKTtcclxuQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9QmViYXMrTmV1ZSZmYW1pbHk9TnVuaXRvOndnaHRAMjAwJmZhbWlseT1Sb2JvdG86d2dodEAzMDAmZGlzcGxheT1zd2FwJyk7XHJcbkBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVdvcmsrU2Fuczp3Z2h0QDMwMCZkaXNwbGF5PXN3YXAnKTtcclxuXHJcblxyXG5cclxuKiB7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxufVxyXG5cclxuLnBhZ2Uge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgZ2FwOiAyMHB4O1xyXG4gICAgcGFkZGluZy10b3A6IDMwcHg7XHJcbn1cclxuXHJcbi5wb3N0LWNhcmQge1xyXG4gICAgd2lkdGg6IDYwJTtcclxuICAgIGJvcmRlcjogMXB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyMzMsIDIzMywgMjMzKTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyMTIsIDIxMCwgMjEwKTtcclxufVxyXG5cclxuLnBvc3QtY2FyZCBpbWcge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcclxuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAxMHB4O1xyXG4gICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMTBweDtcclxufVxyXG5cclxuLnByb2ZpbGUge1xyXG4gICAgcGFkZGluZy1yaWdodDogMTBweDtcclxuICAgIHdpZHRoOiAyNSU7XHJcbiAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIGF1dG87XHJcbiAgICBnYXA6IDJweDtcclxufVxyXG5cclxuI3Byb2ZpbGVfcGljdHVyZSB7XHJcbiAgICAvKiBwb3NpdGlvbjogYWJzb2x1dGU7ICovXHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBoZWlnaHQ6IDcwcHg7XHJcbiAgICB3aWR0aDogNzBweDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbn1cclxuXHJcbiNwcm9maWxlLW5hbWUge1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIGZvbnQtd2VpZ2h0OiAyMDA7XHJcbiAgICBmb250LWZhbWlseTogJ1JvYm90bycsIHNhbnMtc2VyaWY7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG59XHJcblxyXG4jcG9zdC1kYXRlIHtcclxuICAgIGZvbnQtZmFtaWx5OiAnTnVuaXRvJywgc2Fucy1zZXJpZjtcclxuICAgIGZvbnQtc2l6ZTogc21hbGw7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XHJcbiAgICBmb250LXdlaWdodDogNDAwO1xyXG59XHJcblxyXG4ucG9zdEhlYWRpbmcge1xyXG4gICAgZm9udC1mYW1pbHk6ICdQb3BwaW5zJywgc2Fucy1zZXJpZjtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLnJlYWN0aW9ucyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGdhcDogMTVweDtcclxuICAgIGZvbnQtZmFtaWx5OiAnV29yayBTYW5zJywgc2Fucy1zZXJpZjtcclxuXHJcblxyXG59XHJcblxyXG4uaGVhcnQge1xyXG4gICAgd2lkdGg6IDEwMHB4O1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIGJhY2tncm91bmQ6IHVybChcImh0dHBzOi8vY3NzYW5pbWF0aW9uLnJvY2tzL2ltYWdlcy9wb3N0cy9zdGVwcy9oZWFydC5wbmdcIikgbm8tcmVwZWF0O1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1wb3NpdGlvbiAxcyBzdGVwcygyOCk7XHJcbiAgICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAwcztcclxuICAgIFxyXG4gICAgJi5pcy1hY3RpdmUge1xyXG4gICAgICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAxcztcclxuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTI4MDBweCAwO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBcclxuICAucGxhY2VtZW50IHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHRvcDogNTAlO1xyXG4gICAgbGVmdDogNTAlO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbiAgfVxyXG4gIC5saWtlLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgLyogQWRkIGFueSBvdGhlciBzdHlsZXMgYXMgbmVlZGVkICovXHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","UserHomeComponent","encodeURIComponent","arg0","Error","constructor","router","uploadService","userService","document","getElementById","localStorage","getItem","ngOnInit","getPosts","viewPost","subscribe","res","posts","data","reverse","tapLike","postId","post","find","id","post_likes","undefined","likes","likePost","userId","statusCode","button","innerHTML","sendUsername","username","sendUsernameToProfile","console","log","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["F:\\angular_project\\devClone\\src\\app\\user\\components\\user-home\\user-home.component.html","F:\\angular_project\\devClone\\src\\app\\user\\components\\user-home\\user-home.component.ts"],"sourcesContent":["<app-user-nav></app-user-nav>\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\" />\n\n<div class=\"page\">\n\n    <div *ngFor=\"let post of posts\" class=\"post-card\" id=\"post-card\">\n        <div class=\"image\">\n            <img src=\"http://127.0.0.1:8000{{post.media}}\">\n        </div>\n        <div class=\"profile\">\n            <table>\n                <tr>\n                    <td>\n                        <a (click)=\"sendUsername(post.username)\" routerLink=\"/user/{{post.username}}\"><img id=\"profile_picture\" src=\"http://127.0.0.1:8000{{post.profilePicture}}\" alt=\"Posted Image\"></a>\n                    </td>\n                    <td>\n                        <a><h3 id=\"profile-name\">{{post.username}}</h3></a>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <p id=\"post-date\">{{post.uploaded_date}}</p>\n                    </td>\n                </tr>\n            </table>\n\n        </div>\n        <div class=\"postHeading\">\n            <h1>{{post.caption}}</h1>\n        </div>\n        <div class=\"reactions\">\n            <button class=\"like-button\" id=\"likeButton_{{ post.id }}\" (click)=\"tapLike(post.id)\">Like</button>\n            <H5>Liked By {{post.post_likes}} Poeple</H5>\n        </div>\n\n    </div>\n    <script>\n    </script>\n\n\n\n</div>","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UploadpostService } from '../../services/uploadpost.service';\nimport { HttpHeaders } from '@angular/common/http';\nimport { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-user-home',\n  templateUrl: './user-home.component.html',\n  styleUrls: ['./user-home.component.css']\n})\nexport class UserHomeComponent {\nencodeURIComponent(arg0: any): any|string {\nthrow new Error('Method not implemented.');\n}\n  posts: any[] = []\n  postCard = document.getElementById('post-card');\n  userId: any = localStorage.getItem('userId')\n\n  constructor(private router: Router, private uploadService: UploadpostService , private userService : UserService) { }\n\n  ngOnInit() {\n    this.getPosts()\n  }\n\n  getPosts() {\n    this.uploadService.viewPost().subscribe((res: { statusCode: Number, msg: string, username_id: Number, data: any }) => {\n      this.posts = res.data.reverse()\n    })\n\n  }\n\n  tapLike(postId: number) {\n    const post = this.posts.find((post) => post.id === postId);\n\n    if (post && post.post_likes !== undefined) {\n      let likes = post.post_likes;\n\n      this.uploadService.likePost(this.userId, postId).subscribe((res: { statusCode: number, msg: string }) => {\n        if (res.statusCode === 204) {\n          post.post_likes = likes + 1;\n          let button = document.getElementById(`likeButton_${postId}`) as HTMLElement;\n          button.innerHTML = \"Dislike\"\n        }\n        else {\n          post.post_likes = likes - 1;\n          let button = document.getElementById(`likeButton_${postId}`) as HTMLElement;\n          button.innerHTML = \"Like\"\n        }\n      });\n    }\n  }\n\n\n  sendUsername(username: any){\n    this.userService.sendUsernameToProfile(username)\n    console.log('the data is',username)\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}