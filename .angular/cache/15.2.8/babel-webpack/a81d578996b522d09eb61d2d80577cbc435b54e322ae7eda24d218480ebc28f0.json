{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"src/app/user/services/uploadpost.service\";\nimport * as i3 from \"src/app/services/user.service\";\nexport class PostModalComponent {\n  constructor(data, dialogRef, uploadPostService, userService) {\n    this.data = data;\n    this.dialogRef = dialogRef;\n    this.uploadPostService = uploadPostService;\n    this.userService = userService;\n    this.imageURL = data;\n    console.log('image url is', this.imageURL);\n  }\n  close() {\n    this.dialogRef.close();\n  }\n  deletePost(id) {\n    this.userService.deletePost(id).subscribe(res => {\n      console.log(res);\n    });\n  }\n  addComment() {\n    let comment = document.getElementById('comment');\n    console.log(comment.value);\n    let currentUser = localStorage.getItem('userId');\n    let imageId = this.imageURL.imageData.id;\n    console.log(currentUser);\n    let formData = new FormData();\n    formData.append('comment', comment.value); // Use comment.value instead of just comment\n    formData.append('user', currentUser);\n    formData.append('post', imageId);\n    console.log(formData);\n    this.uploadPostService.addComment(formData).subscribe(res => {\n      console.log(res);\n    });\n  }\n}\nPostModalComponent.ɵfac = function PostModalComponent_Factory(t) {\n  return new (t || PostModalComponent)(i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i2.UploadpostService), i0.ɵɵdirectiveInject(i3.UserService));\n};\nPostModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PostModalComponent,\n  selectors: [[\"app-post-modal\"]],\n  decls: 31,\n  vars: 6,\n  consts: [[1, \"post\"], [1, \"post-header\"], [\"alt\", \"User Avatar\", 3, \"src\"], [1, \"post-image\"], [\"alt\", \"Post Image\", 3, \"src\"], [1, \"post-details\"], [1, \"likes\"], [1, \"likes-count\"], [1, \"caption\"], [1, \"post-date\"], [1, \"date\"], [3, \"click\"], [1, \"comments\"], [1, \"add-comment\"], [\"id\", \"comment\", \"type\", \"text\", \"placeholder\", \"Add a comment\"]],\n  template: function PostModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"img\", 2);\n      i0.ɵɵelementStart(3, \"h3\");\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(5, \"br\");\n      i0.ɵɵelementStart(6, \"div\", 3);\n      i0.ɵɵelement(7, \"img\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 5)(9, \"div\", 6)(10, \"span\", 7);\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(12, \" likes \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 8)(14, \"p\");\n      i0.ɵɵtext(15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 9)(17, \"span\", 10);\n      i0.ɵɵtext(18);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function PostModalComponent_Template_button_click_19_listener() {\n        return ctx.deletePost(ctx.imageURL.imageData.id);\n      });\n      i0.ɵɵtext(20, \"Delete Post\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 12)(22, \"h4\");\n      i0.ɵɵtext(23, \"Comments\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"ul\")(25, \"li\");\n      i0.ɵɵtext(26, \"Comment 1\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(27, \"div\", 13);\n      i0.ɵɵelement(28, \"input\", 14);\n      i0.ɵɵelementStart(29, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function PostModalComponent_Template_button_click_29_listener() {\n        return ctx.addComment();\n      });\n      i0.ɵɵtext(30, \"Add\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate1(\"src\", \"http://127.0.0.1:8000\", ctx.imageURL.imageData.profilePicture, \"\", i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.imageURL.imageData.username);\n      i0.ɵɵadvance(3);\n      i0.ɵɵpropertyInterpolate1(\"src\", \"http://127.0.0.1:8000\", ctx.imageURL.imageData.media, \"\", i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.imageURL.imageData.likes);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.imageURL.imageData.caption);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.imageURL.imageData.date);\n    }\n  },\n  styles: [\"body[_ngcontent-%COMP%] {\\r\\n    font-family: Arial, sans-serif;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    background-color: white;\\r\\n    \\r\\n}\\r\\n\\r\\n.post[_ngcontent-%COMP%] {\\r\\n    max-width: 600px;\\r\\n    margin: 0 auto;\\r\\n    padding: 20px;\\r\\n    border: 1px solid #ccc;\\r\\n    border-radius: 5px;\\r\\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\r\\n    background-color: white;\\r\\n}\\r\\n\\r\\n.post-header[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.post-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n    width: 40px;\\r\\n    height: 40px;\\r\\n    border-radius: 50%;\\r\\n    margin-right: 10px;\\r\\n}\\r\\n\\r\\n.post-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\r\\n    margin: 0;\\r\\n    color: #333;\\r\\n\\r\\n}\\r\\n\\r\\n.post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n    max-width: 100%;\\r\\n    height: auto;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n\\r\\n.post-details[_ngcontent-%COMP%] {\\r\\n    margin-top: 10px;\\r\\n    color: #666;\\r\\n\\r\\n}\\r\\n\\r\\n.likes[_ngcontent-%COMP%] {\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.caption[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.post-date[_ngcontent-%COMP%] {\\r\\n    font-size: 12px;\\r\\n}\\r\\n\\r\\n.comments[_ngcontent-%COMP%] {\\r\\n    margin-top: 20px;\\r\\n}\\r\\n\\r\\n.comments[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\r\\n    margin: 0;\\r\\n    font-size: 18px;\\r\\n    color: #333;\\r\\n\\r\\n}\\r\\n\\r\\n.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\r\\n    list-style: none;\\r\\n    padding: 0;\\r\\n    margin-top: 10px;\\r\\n    color: #666;\\r\\n}\\r\\n\\r\\n.comments[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 5px;\\r\\n}\\r\\n\\r\\n.add-comment[_ngcontent-%COMP%] {\\r\\n    margin-top: 20px;\\r\\n    \\r\\n}\\r\\n\\r\\n.add-comment[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    padding: 8px;\\r\\n    border: 1px solid #ccc;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n\\r\\n.add-comment[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n    margin-top: 10px;\\r\\n    padding: 8px 15px;\\r\\n    border: none;\\r\\n    border-radius: 5px;\\r\\n    background-color: blue;\\r\\n    color: white;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n@media only screen and (max-width: 600px) {\\r\\n    .post[_ngcontent-%COMP%] {\\r\\n        padding: 10px;\\r\\n    }\\r\\n\\r\\n    .post-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n        width: 30px;\\r\\n        height: 30px;\\r\\n    }\\r\\n\\r\\n    .post-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\r\\n        font-size: 16px;\\r\\n    }\\r\\n\\r\\n    .post-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n        border-radius: 3px;\\r\\n    }\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci9jb21wb25lbnRzL3BhZ2VzL3Byb2ZpbGUvcG9zdC1tb2RhbC9wb3N0LW1vZGFsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSw4QkFBOEI7SUFDOUIsU0FBUztJQUNULFVBQVU7SUFDVix1QkFBdUI7SUFDdkIsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGNBQWM7SUFDZCxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQix3Q0FBd0M7SUFDeEMsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxTQUFTO0lBQ1QsV0FBVzs7QUFFZjs7QUFFQTtJQUNJLGVBQWU7SUFDZixZQUFZO0lBQ1osa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLFdBQVc7O0FBRWY7O0FBRUE7SUFDSSxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxTQUFTO0FBQ2I7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksU0FBUztJQUNULGVBQWU7SUFDZixXQUFXOztBQUVmOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLFVBQVU7SUFDVixnQkFBZ0I7SUFDaEIsV0FBVztBQUNmOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZ0JBQWdCOztBQUVwQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osc0JBQXNCO0lBQ3RCLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixzQkFBc0I7SUFDdEIsWUFBWTtJQUNaLGVBQWU7QUFDbkI7O0FBRUEsMkJBQTJCO0FBQzNCO0lBQ0k7UUFDSSxhQUFhO0lBQ2pCOztJQUVBO1FBQ0ksV0FBVztRQUNYLFlBQVk7SUFDaEI7O0lBRUE7UUFDSSxlQUFlO0lBQ25COztJQUVBO1FBQ0ksa0JBQWtCO0lBQ3RCO0FBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJib2R5IHtcclxuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIC8qIFdoaXRlIGFzIHRoZSBtYWpvciBjb2xvciAqL1xyXG59XHJcblxyXG4ucG9zdCB7XHJcbiAgICBtYXgtd2lkdGg6IDYwMHB4O1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLnBvc3QtaGVhZGVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuLnBvc3QtaGVhZGVyIGltZyB7XHJcbiAgICB3aWR0aDogNDBweDtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxufVxyXG5cclxuLnBvc3QtaGVhZGVyIGgzIHtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIGNvbG9yOiAjMzMzO1xyXG5cclxufVxyXG5cclxuLnBvc3QtaW1hZ2UgaW1nIHtcclxuICAgIG1heC13aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogYXV0bztcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxufVxyXG5cclxuLnBvc3QtZGV0YWlscyB7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgY29sb3I6ICM2NjY7XHJcblxyXG59XHJcblxyXG4ubGlrZXMge1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuXHJcbi5jYXB0aW9uIHAge1xyXG4gICAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG4ucG9zdC1kYXRlIHtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxufVxyXG5cclxuLmNvbW1lbnRzIHtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbn1cclxuXHJcbi5jb21tZW50cyBoNCB7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICBjb2xvcjogIzMzMztcclxuXHJcbn1cclxuXHJcbi5jb21tZW50cyB1bCB7XHJcbiAgICBsaXN0LXN0eWxlOiBub25lO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICBjb2xvcjogIzY2NjtcclxufVxyXG5cclxuLmNvbW1lbnRzIHVsIGxpIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDVweDtcclxufVxyXG5cclxuLmFkZC1jb21tZW50IHtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICBcclxufVxyXG5cclxuLmFkZC1jb21tZW50IGlucHV0W3R5cGU9XCJ0ZXh0XCJdIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogOHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxufVxyXG5cclxuLmFkZC1jb21tZW50IGJ1dHRvbiB7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgcGFkZGluZzogOHB4IDE1cHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4vKiBSZXNwb25zaXZlIGFkanVzdG1lbnRzICovXHJcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNjAwcHgpIHtcclxuICAgIC5wb3N0IHtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5wb3N0LWhlYWRlciBpbWcge1xyXG4gICAgICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgICAgIGhlaWdodDogMzBweDtcclxuICAgIH1cclxuXHJcbiAgICAucG9zdC1oZWFkZXIgaDMge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIH1cclxuXHJcbiAgICAucG9zdC1pbWFnZSBpbWcge1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,eAAe,QAAsB,0BAA0B;;;;;AASxE,OAAM,MAAOC,kBAAkB;EAE7BC,YACkCC,IAAS,EAClCC,SAA2C,EAAUC,iBAAqC,EAAUC,WAAwB;IADnG,SAAI,GAAJH,IAAI;IAC7B,cAAS,GAATC,SAAS;IAA4C,sBAAiB,GAAjBC,iBAAiB;IAA8B,gBAAW,GAAXC,WAAW;IAEtH,IAAI,CAACC,QAAQ,GAAGJ,IAAI;IACpBK,OAAO,CAACC,GAAG,CAAC,cAAc,EAAC,IAAI,CAACF,QAAQ,CAAC;EAE3C;EAEAG,KAAK;IACH,IAAI,CAACN,SAAS,CAACM,KAAK,EAAE;EACxB;EACAC,UAAU,CAACC,EAAS;IAClB,IAAI,CAACN,WAAW,CAACK,UAAU,CAACC,EAAE,CAAC,CAACC,SAAS,CAAEC,GAA6D,IAAI;MAC1GN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;IAClB,CAAC,CAAC;EACJ;EAEAC,UAAU;IACR,IAAIC,OAAO,GAAQC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAqB;IACzEV,OAAO,CAACC,GAAG,CAACO,OAAO,CAACG,KAAK,CAAC;IAC1B,IAAIC,WAAW,GAAQC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IACrD,IAAIC,OAAO,GAAQ,IAAI,CAAChB,QAAQ,CAACiB,SAAS,CAACZ,EAAE;IAC7CJ,OAAO,CAACC,GAAG,CAACW,WAAW,CAAC;IAExB,IAAIK,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAE7BD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEX,OAAO,CAACG,KAAK,CAAC,CAAC,CAAC;IAC3CM,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEP,WAAW,CAAC;IACpCK,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEJ,OAAO,CAAC;IAEhCf,OAAO,CAACC,GAAG,CAACgB,QAAQ,CAAC;IAErB,IAAI,CAACpB,iBAAiB,CAACU,UAAU,CAACU,QAAQ,CAAC,CAACZ,SAAS,CAAEC,GAA6D,IAAI;MACtHN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;IAClB,CAAC,CAAC;EACJ;;AAtCWb,kBAAkB;mBAAlBA,kBAAkB,uBAGnBD,eAAe;AAAA;AAHdC,kBAAkB;QAAlBA,kBAAkB;EAAA2B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV/BC,8BAAkB;MAEVA,yBAAwF;MACxFA,0BAAI;MAAAA,YAA+B;MAAAA,iBAAK;MAE5CA,qBAAI;MACJA,8BAAwB;MACpBA,yBAA8E;MAClFA,iBAAM;MACNA,8BAA0B;MAEQA,aAA4B;MAAAA,iBAAO;MAACA,wBAClE;MAAAA,iBAAM;MACNA,+BAAqB;MACdA,aAA8B;MAAAA,iBAAI;MAEzCA,+BAAuB;MACAA,aAA2B;MAAAA,iBAAO;MAEzDA,mCAAoD;MAA5CA;QAAA,OAASC,yCAAiC;MAAA,EAAC;MAACD,4BAAW;MAAAA,iBAAS;MAExEA,gCAAsB;MACdA,yBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MACAA,0BAAS;MAAAA,iBAAK;MAGtBA,gCAAyB;MACrBA,6BAA4D;MAC5DA,mCAA+B;MAAvBA;QAAA,OAASC,gBAAY;MAAA,EAAC;MAACD,oBAAG;MAAAA,iBAAS;;;MA3B1CA,eAAgE;MAAhEA,sHAAgE;MACjEA,eAA+B;MAA/BA,qDAA+B;MAI9BA,eAAuD;MAAvDA,6GAAuD;MAI9BA,eAA4B;MAA5BA,kDAA4B;MAGnDA,eAA8B;MAA9BA,oDAA8B;MAGdA,eAA2B;MAA3BA,iDAA2B","names":["MAT_DIALOG_DATA","PostModalComponent","constructor","data","dialogRef","uploadPostService","userService","imageURL","console","log","close","deletePost","id","subscribe","res","addComment","comment","document","getElementById","value","currentUser","localStorage","getItem","imageId","imageData","formData","FormData","append","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["F:\\angular_project\\devClone\\src\\app\\user\\components\\pages\\profile\\post-modal\\post-modal.component.ts","F:\\angular_project\\devClone\\src\\app\\user\\components\\pages\\profile\\post-modal\\post-modal.component.html"],"sourcesContent":["import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { UserService } from 'src/app/services/user.service';\nimport { UploadpostService } from 'src/app/user/services/uploadpost.service';\n\n@Component({\n  selector: 'app-post-modal',\n  templateUrl: './post-modal.component.html',\n  styleUrls: ['./post-modal.component.css'],\n})\nexport class PostModalComponent {\n  imageURL:any;\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    public dialogRef: MatDialogRef<PostModalComponent>, private uploadPostService : UploadpostService, private userService: UserService\n  ) {\n    this.imageURL = data;\n    console.log('image url is',this.imageURL)\n    \n  }\n\n  close(): void {\n    this.dialogRef.close();\n  }\n  deletePost(id:number){\n    this.userService.deletePost(id).subscribe((res: { statusCode: Number, msg: string, username_id: Number }) => {\n      console.log(res);\n    });\n  }\n\n  addComment() {\n    let comment: any = document.getElementById('comment') as HTMLInputElement;\n    console.log(comment.value);\n    let currentUser: any = localStorage.getItem('userId');\n    let imageId: any = this.imageURL.imageData.id;\n    console.log(currentUser);\n  \n    let formData = new FormData();\n  \n    formData.append('comment', comment.value); // Use comment.value instead of just comment\n    formData.append('user', currentUser);\n    formData.append('post', imageId);\n  \n    console.log(formData);\n  \n    this.uploadPostService.addComment(formData).subscribe((res: { statusCode: Number, msg: string, username_id: Number }) => {\n      console.log(res);\n    });\n  }\n  \n}\n","<div class=\"post\">\n    <div class=\"post-header\">\n        <img src=\"http://127.0.0.1:8000{{imageURL.imageData.profilePicture}}\" alt=\"User Avatar\">\n        <h3>{{imageURL.imageData.username}}</h3>\n    </div>\n    <br>\n    <div class=\"post-image\">\n        <img src=\"http://127.0.0.1:8000{{imageURL.imageData.media}}\" alt=\"Post Image\">\n    </div>\n    <div class=\"post-details\">\n        <div class=\"likes\">\n            <span class=\"likes-count\">{{imageURL.imageData.likes}}</span> likes\n        </div>\n        <div class=\"caption\">\n            <p>{{imageURL.imageData.caption}}</p>\n        </div>\n        <div class=\"post-date\">\n            <span class=\"date\">{{imageURL.imageData.date}}</span>\n        </div>\n        <button (click)=\"deletePost(imageURL.imageData.id)\">Delete Post</button>\n    </div>\n        <div class=\"comments\">\n            <h4>Comments</h4>\n            <ul>\n            <li>Comment 1</li>\n            </ul>\n        </div>\n        <div class=\"add-comment\">\n            <input id=\"comment\" type=\"text\" placeholder=\"Add a comment\">\n            <button (click)=\"addComment()\">Add</button>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}