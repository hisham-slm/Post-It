{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/uploadpost.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../user-nav/user-nav.component\";\nfunction UserHomeComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4);\n    i0.ɵɵelement(2, \"img\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 6)(4, \"table\")(5, \"tr\")(6, \"td\");\n    i0.ɵɵelement(7, \"img\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"h3\", 8);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"tr\")(12, \"td\")(13, \"p\", 9);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(15, \"div\", 10)(16, \"h1\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 11)(19, \"a\", 12)(20, \"i\", 13, 14);\n    i0.ɵɵlistener(\"click\", function UserHomeComponent_div_3_Template_i_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const post_r1 = restoredCtx.$implicit;\n      const _r2 = i0.ɵɵreference(21);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.toggleLike(_r2, post_r1.id));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 15)(23, \"button\", 16)(24, \"div\", 17);\n    i0.ɵɵelement(25, \"div\", 18);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(26, \"H5\");\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const post_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://127.0.0.1:8000\", post_r1.media, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://127.0.0.1:8000\", post_r1.profilePicture, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(post_r1.username);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(post_r1.uploaded_date);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(post_r1.caption);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\"Liked By \", post_r1.post_likes, \" Poeple\");\n  }\n}\nexport class UserHomeComponent {\n  constructor(router, uploadService) {\n    this.router = router;\n    this.uploadService = uploadService;\n    this.posts = [];\n    this.postCard = document.getElementById('post-card');\n    this.userId = localStorage.getItem('userId');\n  }\n  ngOnInit() {\n    this.getPosts();\n  }\n  getPosts() {\n    this.uploadService.viewPost().subscribe(res => {\n      this.posts = res.data.reverse();\n      console.log(this.posts);\n    });\n  }\n  doubleTapLike() {\n    console.log('double clicked');\n    this.toggleLike;\n  }\n  toggleLike(heartIcon, postId) {\n    console.log(postId);\n    this.uploadService.likePost(this.userId, postId).subscribe(res => {\n      console.log(res);\n      if (res.statusCode == 204) {\n        heartIcon.classList.toggle('liked');\n      }\n    });\n  }\n}\nUserHomeComponent.ɵfac = function UserHomeComponent_Factory(t) {\n  return new (t || UserHomeComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UploadpostService));\n};\nUserHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UserHomeComponent,\n  selectors: [[\"app-user-home\"]],\n  decls: 4,\n  vars: 1,\n  consts: [[\"rel\", \"stylesheet\", \"href\", \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\"], [1, \"page\"], [\"class\", \"post-card\", \"ng-dblclick\", \"console.log('blah')\", \"id\", \"post-card\", 4, \"ngFor\", \"ngForOf\"], [\"ng-dblclick\", \"console.log('blah')\", \"id\", \"post-card\", 1, \"post-card\"], [1, \"image\"], [3, \"src\"], [1, \"profile\"], [\"id\", \"profile_picture\", \"alt\", \"Posted Image\", 3, \"src\"], [\"id\", \"profile-name\"], [\"id\", \"post-date\"], [1, \"postHeading\"], [1, \"reactions\"], [\"href\", \"\"], [\"id\", \"like-button\", 1, \"fa\", \"fa-thumbs-o-up\", 2, \"font-size\", \"24px\", 3, \"click\"], [\"hearticon\", \"\"], [1, \"likeButton\"], [1, \"like-button\"], [1, \"placement\"], [1, \"heart\"]],\n  template: function UserHomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-user-nav\")(1, \"link\", 0);\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtemplate(3, UserHomeComponent_div_3_Template, 28, 6, \"div\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.posts);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.UserNavComponent],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 44:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(98:1) F:\\\\\\\\angular_project\\\\\\\\devClone\\\\\\\\src\\\\\\\\app\\\\\\\\user\\\\\\\\components\\\\\\\\user-home\\\\\\\\user-home.component.css Unclosed block\\\\n\\\\n \\\\u001b[90m  96 | \\\\u001b[39m\\\\n \\\\u001b[90m  97 | \\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m  98 | \\\\u001b[39m\\\\u001b[33m.like-button\\\\u001b[39m \\\\u001b[33m{\\\\u001b[39m\\\\n \\\\u001b[90m     | \\\\u001b[39m\\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m  99 | \\\\u001b[39m  font-size\\\\u001b[33m:\\\\u001b[39m 35vmin\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 100 | \\\\u001b[39m  -webkit-appearance\\\\u001b[33m:\\\\u001b[39m none\\\\u001b[33m;\\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[44]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=user-home.component.css.map*/\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAKIA,8BAAmG;IAE3FA,yBAA+C;IACnDA,iBAAM;IACNA,8BAAqB;IAILA,yBAAgG;IACpGA,iBAAK;IACLA,0BAAI;IACsBA,aAAiB;IAAAA,iBAAK;IAGpDA,2BAAI;IAEsBA,aAAsB;IAAAA,iBAAI;IAM5DA,gCAAyB;IACjBA,aAAgB;IAAAA,iBAAK;IAE7BA,gCAAuB;IACuBA;MAAA;MAAA;MAAA;MAAA;MAAA,OAASA,iDAA6B;IAAA,EAAC;IAClDA,iBAAI;IACnCA,gCAAwB;IAGZA,2BAAyB;IAC3BA,iBAAM;IAGhBA,2BAAI;IAAAA,aAAmC;IAAAA,iBAAK;;;;IAjCvCA,eAAyC;IAAzCA,8FAAyC;IAMRA,eAAkD;IAAlDA,uGAAkD;IAGtDA,eAAiB;IAAjBA,sCAAiB;IAKrBA,eAAsB;IAAtBA,2CAAsB;IAOhDA,eAAgB;IAAhBA,qCAAgB;IAYhBA,gBAAmC;IAAnCA,iEAAmC;;;AC/BnD,OAAM,MAAOC,iBAAiB;EAK5BC,YAAoBC,MAAc,EAASC,aAAiC;IAAxD,WAAM,GAAND,MAAM;IAAiB,kBAAa,GAAbC,aAAa;IAJxD,UAAK,GAAW,EAAE;IAClB,aAAQ,GAAGC,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC;IAC/C,WAAM,GAAOC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;EAEoC;EAE/EC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;EACjB;EAEAA,QAAQ;IACN,IAAI,CAACN,aAAa,CAACO,QAAQ,EAAE,CAACC,SAAS,CAAEC,GAAuE,IAAI;MAClH,IAAI,CAACC,KAAK,GAAGD,GAAG,CAACE,IAAI,CAACC,OAAO,EAAE;MAC/BC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACJ,KAAK,CAAC;IACzB,CAAC,CAAC;EAEJ;EAEAK,aAAa;IACXF,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IAC7B,IAAI,CAACE,UAAU;EACjB;EAEAA,UAAU,CAACC,SAAsB,EAACC,MAAa;IAC7CL,OAAO,CAACC,GAAG,CAACI,MAAM,CAAC;IAEnB,IAAI,CAAClB,aAAa,CAACmB,QAAQ,CAAC,IAAI,CAACC,MAAM,EAACF,MAAM,CAAC,CAACV,SAAS,CAAEC,GAAmC,IAAG;MAC/FI,OAAO,CAACC,GAAG,CAACL,GAAG,CAAC;MAChB,IAAIA,GAAG,CAACY,UAAU,IAAG,GAAG,EAAC;QACvBJ,SAAS,CAACK,SAAS,CAACC,MAAM,CAAC,OAAO,CAAC;;IAEvC,CAAC,CAAC;EAEJ;;AAlCW1B,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAA2B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT9BhC,+BAA6B;MAG7BA,8BAAkB;MAEdA,mEAsCM;MASVA,iBAAM;;;MA/CoBA,eAAQ;MAARA,mCAAQ","names":["i0","UserHomeComponent","constructor","router","uploadService","document","getElementById","localStorage","getItem","ngOnInit","getPosts","viewPost","subscribe","res","posts","data","reverse","console","log","doubleTapLike","toggleLike","heartIcon","postId","likePost","userId","statusCode","classList","toggle","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["F:\\angular_project\\devClone\\src\\app\\user\\components\\user-home\\user-home.component.html","F:\\angular_project\\devClone\\src\\app\\user\\components\\user-home\\user-home.component.ts"],"sourcesContent":["<app-user-nav></app-user-nav>\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\" />\n\n<div class=\"page\">\n\n    <div *ngFor=\"let post of posts\" class=\"post-card\" ng-dblclick=\"console.log('blah')\" id=\"post-card\">\n        <div class=\"image\">\n            <img src=\"http://127.0.0.1:8000{{post.media}}\">\n        </div>\n        <div class=\"profile\">\n            <table>\n                <tr>\n                    <td>\n                        <img id=\"profile_picture\" src=\"http://127.0.0.1:8000{{post.profilePicture}}\" alt=\"Posted Image\">\n                    </td>\n                    <td>\n                        <h3 id=\"profile-name\">{{post.username}}</h3>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <p id=\"post-date\">{{post.uploaded_date}}</p>\n                    </td>\n                </tr>\n            </table>\n\n        </div>\n        <div class=\"postHeading\">\n            <h1>{{post.caption}}</h1>\n        </div>\n        <div class=\"reactions\">\n            <a href=\"\"><i id=\"like-button\" #hearticon (click)=\"toggleLike(hearticon,post.id)\" class=\"fa fa-thumbs-o-up\"\n                    style=\"font-size:24px\"></i></a>\n            <div class=\"likeButton\">\n                <button class=\"like-button\">\n                    <div class=\"placement\">\n                        <div class=\"heart\"></div>\n                      </div>\n                </button>\n            </div>\n            <H5>Liked By {{post.post_likes}} Poeple</H5>\n        </div>\n\n    </div>\n    <script>\n        let b = document.querySelector('button');\n        setTimeout(() => b.focus(), 100);\n        setTimeout(() => b.blur(), 1000);\n    </script>\n\n\n\n</div>","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UploadpostService } from '../../services/uploadpost.service';\n\n@Component({\n  selector: 'app-user-home',\n  templateUrl: './user-home.component.html',\n  styleUrls: ['./user-home.component.css']\n})\nexport class UserHomeComponent {\n  posts : any[] = []\n  postCard = document.getElementById('post-card');\n  userId:any = localStorage.getItem('userId')\n\n  constructor(private router: Router,private uploadService : UploadpostService){ }\n\n  ngOnInit(){\n    this.getPosts()\n  }\n\n  getPosts(){\n    this.uploadService.viewPost().subscribe((res: {statusCode: Number, msg: string, username_id :Number , data: any} )=> {\n      this.posts = res.data.reverse()\n      console.log(this.posts)\n    })\n\n  }\n\n  doubleTapLike(){\n    console.log('double clicked')\n    this.toggleLike\n  }\n\n  toggleLike(heartIcon: HTMLElement,postId:number): void {\n    console.log(postId)\n\n    this.uploadService.likePost(this.userId,postId).subscribe((res: {statusCode:Number,msg:string})=>{\n      console.log(res)\n      if (res.statusCode== 204){\n        heartIcon.classList.toggle('liked');\n      } \n    })  \n    \n  }\n  \n  \n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}