{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"src/app/user/services/uploadpost.service\";\nexport class PostModalComponent {\n  constructor(data, dialogRef, uploadPostService) {\n    this.data = data;\n    this.dialogRef = dialogRef;\n    this.uploadPostService = uploadPostService;\n    this.imageURL = data;\n    console.log('image url is', this.imageURL);\n  }\n  close() {\n    this.dialogRef.close();\n  }\n  addComment() {\n    let comment = document.getElementById('comment');\n    console.log(comment.value);\n    let currentUser = localStorage.getItem('userId');\n    let imageId = this.imageURL.imageData.id;\n    console.log(currentUser);\n    let formData = new FormData();\n    formData.append('comment', comment.value); // Use comment.value instead of just comment\n    formData.append('user', currentUser);\n    formData.append('post', imageId);\n    console.log(formData);\n    this.uploadPostService.addComment(formData).subscribe(res => {\n      console.log(res);\n    });\n  }\n}\nPostModalComponent.ɵfac = function PostModalComponent_Factory(t) {\n  return new (t || PostModalComponent)(i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i2.UploadpostService));\n};\nPostModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PostModalComponent,\n  selectors: [[\"app-post-modal\"]],\n  decls: 29,\n  vars: 6,\n  consts: [[1, \"post\"], [1, \"post-header\"], [\"alt\", \"User Avatar\", 3, \"src\"], [1, \"post-image\"], [\"alt\", \"Post Image\", 3, \"src\"], [1, \"post-details\"], [1, \"likes\"], [1, \"likes-count\"], [1, \"caption\"], [1, \"post-date\"], [1, \"date\"], [1, \"comments\"], [1, \"add-comment\"], [\"id\", \"comment\", \"type\", \"text\", \"placeholder\", \"Add a comment\"], [3, \"click\"]],\n  template: function PostModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"img\", 2);\n      i0.ɵɵelementStart(3, \"h3\");\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(5, \"br\");\n      i0.ɵɵelementStart(6, \"div\", 3);\n      i0.ɵɵelement(7, \"img\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 5)(9, \"div\", 6)(10, \"span\", 7);\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(12, \" likes \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 8)(14, \"p\");\n      i0.ɵɵtext(15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 9)(17, \"span\", 10);\n      i0.ɵɵtext(18);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\", 11)(20, \"h4\");\n      i0.ɵɵtext(21, \"Comments\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"ul\")(23, \"li\");\n      i0.ɵɵtext(24, \"Comment 1\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(25, \"div\", 12);\n      i0.ɵɵelement(26, \"input\", 13);\n      i0.ɵɵelementStart(27, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function PostModalComponent_Template_button_click_27_listener() {\n        return ctx.addComment();\n      });\n      i0.ɵɵtext(28, \"Add\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate1(\"src\", \"http://127.0.0.1:8000\", ctx.imageURL.imageData.profilePicture, \"\", i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.imageURL.imageData.username);\n      i0.ɵɵadvance(3);\n      i0.ɵɵpropertyInterpolate1(\"src\", \"http://127.0.0.1:8000\", ctx.imageURL.imageData.media, \"\", i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.imageURL.imageData.likes);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.imageURL.imageData.caption);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.imageURL.imageData.date);\n    }\n  },\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 637:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(127:5) F:\\\\\\\\angular_project\\\\\\\\devClone\\\\\\\\src\\\\\\\\app\\\\\\\\user\\\\\\\\components\\\\\\\\pages\\\\\\\\profile\\\\\\\\post-modal\\\\\\\\post-modal.component.css Unknown word\\\\n\\\\n \\\\u001b[90m 125 | \\\\u001b[39m            \\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m 126 | \\\\u001b[39m        \\\\u001b[33m}\\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 127 | \\\\u001b[39m    </style>\\\\n \\\\u001b[90m     | \\\\u001b[39m    \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 128 | \\\\u001b[39m</head>\\\\n \\\\u001b[90m 129 | \\\\u001b[39m<body>\\\\n\\\");\\n\\n })\\n\\n \\t})[_ngcontent-%COMP%];\\n\\n \\t\\n \\t//[_ngcontent-%COMP%]   startup[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   Load[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   and[_ngcontent-%COMP%]   return[_ngcontent-%COMP%]   exports[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   This[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   doesn't[_ngcontent-%COMP%]   tell[_ngcontent-%COMP%]   about[_ngcontent-%COMP%]   it's[_ngcontent-%COMP%]   top-level[_ngcontent-%COMP%]   declarations[_ngcontent-%COMP%]   so[_ngcontent-%COMP%]   it[_ngcontent-%COMP%]   can't[_ngcontent-%COMP%]   be[_ngcontent-%COMP%]   inlined[_ngcontent-%COMP%]   var[_ngcontent-%COMP%]   __webpack_exports__[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] {};\\n \\t__webpack_modules__[637]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=post-modal.component.css.map*/\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,eAAe,QAAsB,0BAA0B;;;;AAQxE,OAAM,MAAOC,kBAAkB;EAE7BC,YACkCC,IAAS,EAClCC,SAA2C,EAAUC,iBAAqC;IADjE,SAAI,GAAJF,IAAI;IAC7B,cAAS,GAATC,SAAS;IAA4C,sBAAiB,GAAjBC,iBAAiB;IAE7E,IAAI,CAACC,QAAQ,GAAGH,IAAI;IACpBI,OAAO,CAACC,GAAG,CAAC,cAAc,EAAC,IAAI,CAACF,QAAQ,CAAC;EAE3C;EAEAG,KAAK;IACH,IAAI,CAACL,SAAS,CAACK,KAAK,EAAE;EACxB;EAEAC,UAAU;IACR,IAAIC,OAAO,GAAQC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAqB;IACzEN,OAAO,CAACC,GAAG,CAACG,OAAO,CAACG,KAAK,CAAC;IAC1B,IAAIC,WAAW,GAAQC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IACrD,IAAIC,OAAO,GAAQ,IAAI,CAACZ,QAAQ,CAACa,SAAS,CAACC,EAAE;IAC7Cb,OAAO,CAACC,GAAG,CAACO,WAAW,CAAC;IAExB,IAAIM,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAE7BD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEZ,OAAO,CAACG,KAAK,CAAC,CAAC,CAAC;IAC3CO,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAER,WAAW,CAAC;IACpCM,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEL,OAAO,CAAC;IAEhCX,OAAO,CAACC,GAAG,CAACa,QAAQ,CAAC;IAErB,IAAI,CAAChB,iBAAiB,CAACK,UAAU,CAACW,QAAQ,CAAC,CAACG,SAAS,CAAEC,GAA6D,IAAI;MACtHlB,OAAO,CAACC,GAAG,CAACiB,GAAG,CAAC;IAClB,CAAC,CAAC;EACJ;;AAjCWxB,kBAAkB;mBAAlBA,kBAAkB,uBAGnBD,eAAe;AAAA;AAHdC,kBAAkB;QAAlBA,kBAAkB;EAAAyB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCT/BC,8BAAkB;MAEVA,yBAAwF;MACxFA,0BAAI;MAAAA,YAA+B;MAAAA,iBAAK;MAE5CA,qBAAI;MACJA,8BAAwB;MACpBA,yBAA8E;MAClFA,iBAAM;MACNA,8BAA0B;MAEQA,aAA4B;MAAAA,iBAAO;MAACA,wBAClE;MAAAA,iBAAM;MACNA,+BAAqB;MACdA,aAA8B;MAAAA,iBAAI;MAEzCA,+BAAuB;MACAA,aAA2B;MAAAA,iBAAO;MAGzDA,gCAAsB;MACdA,yBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MACAA,0BAAS;MAAAA,iBAAK;MAGtBA,gCAAyB;MACrBA,6BAA4D;MAC5DA,mCAA+B;MAAvBA;QAAA,OAASC,gBAAY;MAAA,EAAC;MAACD,oBAAG;MAAAA,iBAAS;;;MA1B1CA,eAAgE;MAAhEA,sHAAgE;MACjEA,eAA+B;MAA/BA,qDAA+B;MAI9BA,eAAuD;MAAvDA,6GAAuD;MAI9BA,eAA4B;MAA5BA,kDAA4B;MAGnDA,eAA8B;MAA9BA,oDAA8B;MAGdA,eAA2B;MAA3BA,iDAA2B","names":["MAT_DIALOG_DATA","PostModalComponent","constructor","data","dialogRef","uploadPostService","imageURL","console","log","close","addComment","comment","document","getElementById","value","currentUser","localStorage","getItem","imageId","imageData","id","formData","FormData","append","subscribe","res","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["F:\\angular_project\\devClone\\src\\app\\user\\components\\pages\\profile\\post-modal\\post-modal.component.ts","F:\\angular_project\\devClone\\src\\app\\user\\components\\pages\\profile\\post-modal\\post-modal.component.html"],"sourcesContent":["import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { UploadpostService } from 'src/app/user/services/uploadpost.service';\n\n@Component({\n  selector: 'app-post-modal',\n  templateUrl: './post-modal.component.html',\n  styleUrls: ['./post-modal.component.css'],\n})\nexport class PostModalComponent {\n  imageURL:any;\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    public dialogRef: MatDialogRef<PostModalComponent>, private uploadPostService : UploadpostService\n  ) {\n    this.imageURL = data;\n    console.log('image url is',this.imageURL)\n    \n  }\n\n  close(): void {\n    this.dialogRef.close();\n  }\n\n  addComment() {\n    let comment: any = document.getElementById('comment') as HTMLInputElement;\n    console.log(comment.value);\n    let currentUser: any = localStorage.getItem('userId');\n    let imageId: any = this.imageURL.imageData.id;\n    console.log(currentUser);\n  \n    let formData = new FormData();\n  \n    formData.append('comment', comment.value); // Use comment.value instead of just comment\n    formData.append('user', currentUser);\n    formData.append('post', imageId);\n  \n    console.log(formData);\n  \n    this.uploadPostService.addComment(formData).subscribe((res: { statusCode: Number, msg: string, username_id: Number }) => {\n      console.log(res);\n    });\n  }\n  \n}\n","<div class=\"post\">\n    <div class=\"post-header\">\n        <img src=\"http://127.0.0.1:8000{{imageURL.imageData.profilePicture}}\" alt=\"User Avatar\">\n        <h3>{{imageURL.imageData.username}}</h3>\n    </div>\n    <br>\n    <div class=\"post-image\">\n        <img src=\"http://127.0.0.1:8000{{imageURL.imageData.media}}\" alt=\"Post Image\">\n    </div>\n    <div class=\"post-details\">\n        <div class=\"likes\">\n            <span class=\"likes-count\">{{imageURL.imageData.likes}}</span> likes\n        </div>\n        <div class=\"caption\">\n            <p>{{imageURL.imageData.caption}}</p>\n        </div>\n        <div class=\"post-date\">\n            <span class=\"date\">{{imageURL.imageData.date}}</span>\n        </div>\n    </div>\n        <div class=\"comments\">\n            <h4>Comments</h4>\n            <ul>\n            <li>Comment 1</li>\n            </ul>\n        </div>\n        <div class=\"add-comment\">\n            <input id=\"comment\" type=\"text\" placeholder=\"Add a comment\">\n            <button (click)=\"addComment()\">Add</button>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}