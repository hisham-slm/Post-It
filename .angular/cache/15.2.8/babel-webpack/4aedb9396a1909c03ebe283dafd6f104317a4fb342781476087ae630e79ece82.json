{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet UserHomeComponent = class UserHomeComponent {\n  constructor(router, uploadService) {\n    this.router = router;\n    this.uploadService = uploadService;\n    this.posts = [];\n    this.postCard = document.getElementById('post-card');\n    this.userId = localStorage.getItem('userId');\n  }\n  ngOnInit() {\n    this.getPosts();\n  }\n  getPosts() {\n    this.uploadService.viewPost().subscribe(res => {\n      this.posts = res.data.reverse();\n      this.postId = res.data[0].id;\n      console.log('post id is ', this.postId);\n    });\n  }\n  doubleTapLike() {\n    console.log('double clicked');\n    this.toggleLike;\n  }\n  toggleLike(heartIcon) {\n    this.uploadService.likePost(this.userId, this.postId).subscribe(res => {\n      console.log(res);\n      if (res.statusCode == 204) {\n        heartIcon.classList.toggle('liked');\n      }\n    });\n  }\n};\nUserHomeComponent = __decorate([Component({\n  selector: 'app-user-home',\n  templateUrl: './user-home.component.html',\n  styleUrls: ['./user-home.component.css']\n})], UserHomeComponent);\nexport { UserHomeComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AASlC,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAM5BC,YAAoBC,MAAc,EAASC,aAAiC;IAAxD,WAAM,GAAND,MAAM;IAAiB,kBAAa,GAAbC,aAAa;IALxD,UAAK,GAAW,EAAE;IAClB,aAAQ,GAAGC,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC;IAC/C,WAAM,GAAOC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;EAGoC;EAE/EC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;EACjB;EAEAA,QAAQ;IACN,IAAI,CAACN,aAAa,CAACO,QAAQ,EAAE,CAACC,SAAS,CAAEC,GAAuE,IAAI;MAClH,IAAI,CAACC,KAAK,GAAGD,GAAG,CAACE,IAAI,CAACC,OAAO,EAAE;MAC/B,IAAI,CAACC,MAAM,GAACJ,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC,CAACG,EAAE;MAC1BC,OAAO,CAACC,GAAG,CAAC,aAAa,EAAC,IAAI,CAACH,MAAM,CAAC;IACxC,CAAC,CAAC;EAEJ;EAEAI,aAAa;IACXF,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;IAC7B,IAAI,CAACE,UAAU;EACjB;EAEAA,UAAU,CAACC,SAAsB;IAG/B,IAAI,CAACnB,aAAa,CAACoB,QAAQ,CAAC,IAAI,CAACC,MAAM,EAAC,IAAI,CAACR,MAAM,CAAC,CAACL,SAAS,CAAEC,GAAmC,IAAG;MACpGM,OAAO,CAACC,GAAG,CAACP,GAAG,CAAC;MAChB,IAAIA,GAAG,CAACa,UAAU,IAAG,GAAG,EAAC;QACvBH,SAAS,CAACI,SAAS,CAACC,MAAM,CAAC,OAAO,CAAC;;IAEvC,CAAC,CAAC;EAEJ;CAID;AAxCY3B,iBAAiB,eAL7BD,SAAS,CAAC;EACT6B,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,GACW9B,iBAAiB,CAwC7B;SAxCYA,iBAAiB","names":["Component","UserHomeComponent","constructor","router","uploadService","document","getElementById","localStorage","getItem","ngOnInit","getPosts","viewPost","subscribe","res","posts","data","reverse","postId","id","console","log","doubleTapLike","toggleLike","heartIcon","likePost","userId","statusCode","classList","toggle","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["F:\\angular_project\\devClone\\src\\app\\user\\components\\user-home\\user-home.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UploadpostService } from '../../services/uploadpost.service';\n\n@Component({\n  selector: 'app-user-home',\n  templateUrl: './user-home.component.html',\n  styleUrls: ['./user-home.component.css']\n})\nexport class UserHomeComponent {\n  posts : any[] = []\n  postCard = document.getElementById('post-card');\n  userId:any = localStorage.getItem('userId')\n  postId : any\n\n  constructor(private router: Router,private uploadService : UploadpostService){ }\n\n  ngOnInit(){\n    this.getPosts()\n  }\n\n  getPosts(){\n    this.uploadService.viewPost().subscribe((res: {statusCode: Number, msg: string, username_id :Number , data: any} )=> {\n      this.posts = res.data.reverse()\n      this.postId=res.data[0].id\n      console.log('post id is ',this.postId)\n    })\n\n  }\n\n  doubleTapLike(){\n    console.log('double clicked')\n    this.toggleLike\n  }\n\n  toggleLike(heartIcon: HTMLElement): void {\n    \n\n    this.uploadService.likePost(this.userId,this.postId).subscribe((res: {statusCode:Number,msg:string})=>{\n      console.log(res)\n      if (res.statusCode== 204){\n        heartIcon.classList.toggle('liked');\n      } \n    })\n    \n  }\n  \n  \n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}