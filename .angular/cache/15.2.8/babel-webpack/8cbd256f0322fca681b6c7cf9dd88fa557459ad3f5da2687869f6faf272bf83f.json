{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"src/app/user/services/uploadpost.service\";\nimport * as i3 from \"src/app/services/user.service\";\nexport class PostModalComponent {\n  constructor(data, dialogRef, uploadPostService, userService) {\n    this.data = data;\n    this.dialogRef = dialogRef;\n    this.uploadPostService = uploadPostService;\n    this.userService = userService;\n    this.imageURL = data;\n    console.log('image url is', this.imageURL);\n  }\n  close() {\n    this.dialogRef.close();\n  }\n  deletePost(id) {\n    this.userService.deletePost(id).subscribe();\n    location.reload();\n  }\n  addComment() {\n    let comment = document.getElementById('comment');\n    console.log(comment.value);\n    let currentUser = localStorage.getItem('userId');\n    let imageId = this.imageURL.imageData.id;\n    console.log(currentUser);\n    let formData = new FormData();\n    formData.append('comment', comment.value);\n    formData.append('user', currentUser);\n    formData.append('post', imageId);\n    console.log(formData);\n    this.uploadPostService.addComment(formData).subscribe(res => {\n      console.log(res);\n    });\n  }\n}\nPostModalComponent.ɵfac = function PostModalComponent_Factory(t) {\n  return new (t || PostModalComponent)(i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i2.UploadpostService), i0.ɵɵdirectiveInject(i3.UserService));\n};\nPostModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PostModalComponent,\n  selectors: [[\"app-post-modal\"]],\n  decls: 31,\n  vars: 6,\n  consts: [[1, \"post\"], [1, \"post-header\"], [\"alt\", \"User Avatar\", 3, \"src\"], [1, \"post-image\"], [\"alt\", \"Post Image\", 3, \"src\"], [1, \"post-details\"], [1, \"likes\"], [1, \"likes-count\"], [1, \"caption\"], [1, \"post-date\"], [1, \"date\"], [1, \"button\", 3, \"click\"], [1, \"comments\"], [1, \"add-comment\"], [\"id\", \"comment\", \"type\", \"text\", \"placeholder\", \"Add a comment\"], [3, \"click\"]],\n  template: function PostModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"img\", 2);\n      i0.ɵɵelementStart(3, \"h3\");\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(5, \"br\");\n      i0.ɵɵelementStart(6, \"div\", 3);\n      i0.ɵɵelement(7, \"img\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 5)(9, \"div\", 6)(10, \"span\", 7);\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(12, \" likes \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 8)(14, \"p\");\n      i0.ɵɵtext(15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 9)(17, \"span\", 10);\n      i0.ɵɵtext(18);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function PostModalComponent_Template_button_click_19_listener() {\n        return ctx.deletePost(ctx.imageURL.imageData.id);\n      });\n      i0.ɵɵtext(20, \"Delete Post\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 12)(22, \"h4\");\n      i0.ɵɵtext(23, \"Comments\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"ul\")(25, \"li\");\n      i0.ɵɵtext(26, \"Comment 1\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(27, \"div\", 13);\n      i0.ɵɵelement(28, \"input\", 14);\n      i0.ɵɵelementStart(29, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function PostModalComponent_Template_button_click_29_listener() {\n        return ctx.addComment();\n      });\n      i0.ɵɵtext(30, \"Add\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate1(\"src\", \"http://127.0.0.1:8000\", ctx.imageURL.imageData.profilePicture, \"\", i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.imageURL.imageData.username);\n      i0.ɵɵadvance(3);\n      i0.ɵɵpropertyInterpolate1(\"src\", \"http://127.0.0.1:8000\", ctx.imageURL.imageData.media, \"\", i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.imageURL.imageData.likes);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.imageURL.imageData.caption);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.imageURL.imageData.date);\n    }\n  },\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 637:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(12:5) F:\\\\\\\\angular_project\\\\\\\\devClone\\\\\\\\src\\\\\\\\app\\\\\\\\user\\\\\\\\components\\\\\\\\pages\\\\\\\\profile\\\\\\\\post-modal\\\\\\\\post-modal.component.css Unknown word\\\\n\\\\n \\\\u001b[90m 10 | \\\\u001b[39m    margin\\\\u001b[33m:\\\\u001b[39m 0 auto\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 11 | \\\\u001b[39m    max\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 12 | \\\\u001b[39m    padding\\\\u001b[33m:\\\\u001b[39m 20px\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m    | \\\\u001b[39m    \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 13 | \\\\u001b[39m    border\\\\u001b[33m:\\\\u001b[39m 1px solid \\\\u001b[35m#ccc\\\\u001b[39m\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 14 | \\\\u001b[39m    border-radius\\\\u001b[33m:\\\\u001b[39m 5px\\\\u001b[33m;\\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[637]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=post-modal.component.css.map*/\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,eAAe,QAAsB,0BAA0B;;;;;AASxE,OAAM,MAAOC,kBAAkB;EAE7BC,YACkCC,IAAS,EAClCC,SAA2C,EAAUC,iBAAqC,EAAUC,WAAwB;IADnG,SAAI,GAAJH,IAAI;IAC7B,cAAS,GAATC,SAAS;IAA4C,sBAAiB,GAAjBC,iBAAiB;IAA8B,gBAAW,GAAXC,WAAW;IAEtH,IAAI,CAACC,QAAQ,GAAGJ,IAAI;IACpBK,OAAO,CAACC,GAAG,CAAC,cAAc,EAAC,IAAI,CAACF,QAAQ,CAAC;EAE3C;EAEAG,KAAK;IACH,IAAI,CAACN,SAAS,CAACM,KAAK,EAAE;EACxB;EAKAC,UAAU,CAACC,EAAM;IACf,IAAI,CAACN,WAAW,CAACK,UAAU,CAACC,EAAE,CAAC,CAACC,SAAS,EAAE;IAC3CC,QAAQ,CAACC,MAAM,EAAE;EACnB;EAEAC,UAAU;IACR,IAAIC,OAAO,GAAQC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAqB;IACzEX,OAAO,CAACC,GAAG,CAACQ,OAAO,CAACG,KAAK,CAAC;IAC1B,IAAIC,WAAW,GAAQC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IACrD,IAAIC,OAAO,GAAQ,IAAI,CAACjB,QAAQ,CAACkB,SAAS,CAACb,EAAE;IAC7CJ,OAAO,CAACC,GAAG,CAACY,WAAW,CAAC;IAExB,IAAIK,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAE7BD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEX,OAAO,CAACG,KAAK,CAAC;IACzCM,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEP,WAAW,CAAC;IACpCK,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEJ,OAAO,CAAC;IAEhChB,OAAO,CAACC,GAAG,CAACiB,QAAQ,CAAC;IAErB,IAAI,CAACrB,iBAAiB,CAACW,UAAU,CAACU,QAAQ,CAAC,CAACb,SAAS,CAAEgB,GAA6D,IAAI;MACtHrB,OAAO,CAACC,GAAG,CAACoB,GAAG,CAAC;IAClB,CAAC,CAAC;EACJ;;AAzCW5B,kBAAkB;mBAAlBA,kBAAkB,uBAGnBD,eAAe;AAAA;AAHdC,kBAAkB;QAAlBA,kBAAkB;EAAA6B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV/BC,8BAAkB;MAEVA,yBAAwF;MACxFA,0BAAI;MAAAA,YAA+B;MAAAA,iBAAK;MAE5CA,qBAAI;MACJA,8BAAwB;MACpBA,yBAA8E;MAClFA,iBAAM;MACNA,8BAA0B;MAEQA,aAA4B;MAAAA,iBAAO;MAACA,wBAClE;MAAAA,iBAAM;MACNA,+BAAqB;MACdA,aAA8B;MAAAA,iBAAI;MAEzCA,+BAAuB;MACAA,aAA2B;MAAAA,iBAAO;MAEzDA,mCAAmE;MAA5CA;QAAA,OAASC,yCAAiC;MAAA,EAAC;MAACD,4BAAW;MAAAA,iBAAS;MAEvFA,gCAAsB;MACdA,yBAAQ;MAAAA,iBAAK;MACjBA,2BAAI;MACAA,0BAAS;MAAAA,iBAAK;MAGtBA,gCAAyB;MACrBA,6BAA4D;MAC5DA,mCAA+B;MAAvBA;QAAA,OAASC,gBAAY;MAAA,EAAC;MAACD,oBAAG;MAAAA,iBAAS;;;MA3B1CA,eAAgE;MAAhEA,sHAAgE;MACjEA,eAA+B;MAA/BA,qDAA+B;MAI9BA,eAAuD;MAAvDA,6GAAuD;MAI9BA,eAA4B;MAA5BA,kDAA4B;MAGnDA,eAA8B;MAA9BA,oDAA8B;MAGdA,eAA2B;MAA3BA,iDAA2B","names":["MAT_DIALOG_DATA","PostModalComponent","constructor","data","dialogRef","uploadPostService","userService","imageURL","console","log","close","deletePost","id","subscribe","location","reload","addComment","comment","document","getElementById","value","currentUser","localStorage","getItem","imageId","imageData","formData","FormData","append","res","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["F:\\angular_project\\devClone\\src\\app\\user\\components\\pages\\profile\\post-modal\\post-modal.component.ts","F:\\angular_project\\devClone\\src\\app\\user\\components\\pages\\profile\\post-modal\\post-modal.component.html"],"sourcesContent":["import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { UserService } from 'src/app/services/user.service';\nimport { UploadpostService } from 'src/app/user/services/uploadpost.service';\n\n@Component({\n  selector: 'app-post-modal',\n  templateUrl: './post-modal.component.html',\n  styleUrls: ['./post-modal.component.css'],\n})\nexport class PostModalComponent {\n  imageURL:any;\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    public dialogRef: MatDialogRef<PostModalComponent>, private uploadPostService : UploadpostService, private userService: UserService\n  ) {\n    this.imageURL = data;\n    console.log('image url is',this.imageURL)\n    \n  }\n\n  close(): void {\n    this.dialogRef.close();\n  }\n  \n  \n  \n\n  deletePost(id:any){\n    this.userService.deletePost(id).subscribe()\n    location.reload()\n  }\n\n  addComment() {\n    let comment: any = document.getElementById('comment') as HTMLInputElement;\n    console.log(comment.value);\n    let currentUser: any = localStorage.getItem('userId');\n    let imageId: any = this.imageURL.imageData.id;\n    console.log(currentUser);\n  \n    let formData = new FormData();\n  \n    formData.append('comment', comment.value); \n    formData.append('user', currentUser);\n    formData.append('post', imageId);\n  \n    console.log(formData);\n  \n    this.uploadPostService.addComment(formData).subscribe((res: { statusCode: Number, msg: string, username_id: Number }) => {\n      console.log(res);\n    });\n  }\n  \n}\n","<div class=\"post\">\n    <div class=\"post-header\">\n        <img src=\"http://127.0.0.1:8000{{imageURL.imageData.profilePicture}}\" alt=\"User Avatar\">\n        <h3>{{imageURL.imageData.username}}</h3>\n    </div>\n    <br>\n    <div class=\"post-image\">\n        <img src=\"http://127.0.0.1:8000{{imageURL.imageData.media}}\" alt=\"Post Image\">\n    </div>\n    <div class=\"post-details\">\n        <div class=\"likes\">\n            <span class=\"likes-count\">{{imageURL.imageData.likes}}</span> likes\n        </div>\n        <div class=\"caption\">\n            <p>{{imageURL.imageData.caption}}</p>\n        </div>\n        <div class=\"post-date\">\n            <span class=\"date\">{{imageURL.imageData.date}}</span>\n        </div>\n        <button class=\"button\" (click)=\"deletePost(imageURL.imageData.id)\">Delete Post</button>\n    </div>\n        <div class=\"comments\">\n            <h4>Comments</h4>\n            <ul>\n            <li>Comment 1</li>\n            </ul>\n        </div>\n        <div class=\"add-comment\">\n            <input id=\"comment\" type=\"text\" placeholder=\"Add a comment\">\n            <button (click)=\"addComment()\">Add</button>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}